#!/bin/bash

function compile_all() {
  for f in *.c; do
    echo "compiling $f"
    gcc $f -o ${f%.*}
  done
}

function run() {
  compile_all
  echo "============================================================================================================"
  echo "exercise 1"
  echo "============================================================================================================"
  ./exercise1 < ex1.txt
  sleep 1
  echo "============================================================================================================"
  echo "exercise 2"
  echo "============================================================================================================"
  for i in {1..2}; do
    sleep 1
    echo ""
    echo "run #$i"
      ./exercise2
  done
  echo "============================================================================================================"
  echo "exercise 3"
  echo "============================================================================================================"
  echo "test manually"
  echo "============================================================================================================"
  echo "exercise 4_1"
  echo "============================================================================================================"
  sleep 1
  for i in {1..7}; do
    ./code 1 $i 3 1 1
  done
  sleep 1
  for i in {1..3}; do
    ./code 1 7 $i 1 1
  done
  echo "============================================================================================================"
  echo "exercise 4_2"
  echo "============================================================================================================"
  sleep 1
  ./decode FF
  ./decode 9f
  ./decode af
  ./decode bf
  ./decode cf
  ./decode df
  ./decode ef
  ./decode ff
  ./decode f7
  ./decode fb
  ./decode ff
}

run
run > ./run_script_output.txt
