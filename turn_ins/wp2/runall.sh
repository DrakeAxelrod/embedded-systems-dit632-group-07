#!/bin/bash

function compile_all() {
  for f in *.c; do
    echo "compiling $f"
    gcc $f -o ${f%.*}
  done
}

function run() {
  compile_all
  echo "============================================================================================================"
  echo "exercise 1"
  echo "============================================================================================================"
  ./exercise1 < ex1.txt
  sleep 1
  echo "============================================================================================================"
  echo "exercise 2"
  echo "============================================================================================================"
  for i in {0..3}; do
    sleep 1
    echo ""
    echo "run #$i"
      ./exercise2
  done
  echo "============================================================================================================"
  echo "exercise 3"
  echo "============================================================================================================"
  sleep 1
  ./exercise3 < ex3.txt
  echo "============================================================================================================"
  echo "exercise 4_1"
  echo "============================================================================================================"
  sleep 1
  ./code 1 7 3 1 1
  echo "============================================================================================================"
  echo "exercise 4_2"
  echo "============================================================================================================"
  sleep 1
  ./decode FF
}

run
run > ./run_script_output.txt
